<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<head>
   <link type="text/css" rel="stylesheet" href="css/styles.css"/>
   <title>Sign Up | Hospital Appointment System</title>
   <link rel="shortcut icon" type="image/x-icon" href="assets/favicon.ico" />
   <script src="scripts/sidebar.js" type="text/javascript"></script>
</head>
<h:body styleClass="body">
   <h:form>
      <div id="mySidebar" class="sidebar">
         <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
         <a href="index.xhtml">Home</a>
         <a href="myprofile.xhtml">My Profile</a>
         <a href="login.xhtml" style="display: #{loginBean.signupDisplay}">Sign In</a>
         <a href="signup.xhtml" style="display: #{loginBean.signupDisplay}">Sign Up</a>
         <h:commandLink value="Log Out" action="#{loginBean.logout}" rendered="#{loginBean.loggedIn}"/>
         <h:commandLink value="Admin" action="admin.xhtml" rendered="#{loginBean.isAdmin()}"/>
      </div>
   </h:form>
   <div class="navbar">
      <a class="link" href="index.xhtml">Home</a>
      <a class="link" href="make-appointment.xhtml">Appointment</a>
      <a class="push"/>
      <a class="profile" href="myprofile.xhtml">
         <img src="assets/profile-icon.png" alt="My Profile"/>
      </a>
      <div id="main">
         <button class="openbtn" onclick="openNav()">&#9776;</button>
      </div>
   </div>
   <div class="container">
      <div class="main-body">
         <h:form>
            <h:panelGrid columns="3">
               <h:outputText value="ID: "/>
               <h:inputText id="idInput" value="#{signupBean.id}" autocomplete="false"
                            required="true" requiredMessage="You have to provide a ID"
                            validatorMessage="ID can only include 9 digit number">
                  <f:validateRegex pattern="[^/d]{9}"/>
               </h:inputText>
               <h:message for="idInput" styleClass="error" value=""/>

               <h:outputText value="First Name: "/>
               <h:inputText id="firstNameInput" value="#{signupBean.firstName}"
                            autocomplete="off" required="true" requiredMessage="You have to provide a first name"
                            validatorMessage="A first name can only include english letters">
                  <f:validateRegex pattern="^[a-zA-Z]+$"/>
               </h:inputText>
               <h:message for="firstNameInput" styleClass="error" value=""/>

               <h:outputText value="Last Name: "/>
               <h:inputText id="lastNameInput" value="#{signupBean.lastName}"
                            required="true" requiredMessage="You have to provude a last name"
                            autocomplete="off" validatorMessage="A last name can only include english letters">
                  <f:validateRegex pattern="^[a-zA-Z]+$"/>
               </h:inputText>
               <h:message for="lastNameInput" styleClass="error" value="A name can only include english letters"/>

               <h:outputText value="Password: "/>
               <h:inputText id="passwordInput" value="#{signupBean.password}" required="true"
                            requiredMessage="You have to provude a password"
                            autocomplete="off" validatorMessage="A password must contain minimum eight characters, at least one letter and one number">
                       <f:validateRegex pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,16}$"/>
               </h:inputText>
               <h:message for="passwordInput" styleClass="error" value=""/>

               <h:outputText value="Birth Date: "/>
               <h:inputText id="birthDateInput" converter="dateConverter" value="#{signupBean.birthDate}"
                            autocomplete="off"
                            required="true" requiredMessage="You have to provide a birth date"
                            validatorMessage="The provided birth date is of incorrect format, in the future, or too old">
                  <f:validator validatorId="birthDateValidator"/>
               </h:inputText>
               <h:message for="birthDateInput" styleClass="error"/>

               <h:outputText value="Phone Number: "/>
               <h:inputText id="phoneNumberInput" value="#{signupBean.phoneNumber}"
                            autocomplete="off" required="true" requiredMessage="You have to provide a phone number"
                            validatorMessage="The provided phone number is of incorrect format">
                  <f:validateRegex pattern="^(\d{3}-\d{3}-\d{4})$"/>
               </h:inputText>
               <h:message for="phoneNumberInput" styleClass="error"/>

               <h:outputText value="Email: "/>
               <h:inputText id="emailInput" value="#{signupBean.email}"
                            autocomplete="off" required="true" requiredMessage="You have to provide an email address"
                            validatorMessage="The provided email address is of incorrect format">
                  <f:validateRegex pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"/>
               </h:inputText>
               <h:message for="emailInput" styleClass="error"/>


               <h:commandButton id="submitButton" value="Submit" action="#{signupBean.submit()}"/>
               <h:outputText escape="false" value="#{signupBean.output}" styleClass="error"/>
            </h:panelGrid>
         </h:form>
      </div>
      <div class="footer">
         <a>Â© 2023 Hospital Appointment System</a><br/>
         <a>Contact Us @ 02-345-6789 or</a><br/>
         <a>Email Us @ clinic@example.com</a><br/>
      </div>
   </div>
</h:body>
</html>
